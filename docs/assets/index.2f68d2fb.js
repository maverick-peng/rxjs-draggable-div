import{f as i,s as m,t as l,a as p}from"./vendor.6bf5d223.js";const _=function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&t(a)}).observe(document,{childList:!0,subtree:!0});function n(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerpolicy&&(r.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?r.credentials="include":e.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function t(e){if(e.ep)return;e.ep=!0;const r=n(e);fetch(e.href,r)}};_();const c=document.querySelector("#map"),u=document.querySelector("#target"),b=document.querySelector("#reset"),d=.05,Y=()=>{const s=i(c,"touchstart",{passive:!0}).pipe(m(t=>{const e={x:t.touches[0].pageX,y:t.touches[0].pageY};c.classList.add("map__cursor--cross");const r=h(u);if(t.touches.length===2){const a=S(t),L=g(u);return i(c,"touchmove",{passive:!0}).pipe(l(f=>{const v=S(f);console.log(f.touches),x(L*(v+a)/a,u)}),p(i(c,"touchend",{passive:!0}).pipe(l(()=>c.classList.remove("map__cursor--cross")))))}return i(c,"touchmove",{passive:!0}).pipe(l(a=>{y({x:r.x+a.touches[0].pageX-e.x,y:r.y+a.touches[0].pageY-e.y},u)}),p(i(c,"touchend",{passive:!0}).pipe(l(()=>c.classList.remove("map__cursor--cross")))))})),o=i(c,"mousedown").pipe(m(t=>{const e={x:t.offsetX,y:t.offsetY};return c.classList.add("map__cursor--cross"),i(c,"mousemove").pipe(l(r=>{const a=h(u);y({x:a.x+r.offsetX-e.x,y:a.y+r.offsetY-e.y},u)}),p(i(c,"mouseup").pipe(l(()=>c.classList.remove("map__cursor--cross")))))})),n=i(c,"wheel",{passive:!0}).pipe(l(t=>{const e=g(u);x(t.deltaY>0?e+d:e-d,u)}));w()?s.subscribe():o.subscribe(),n.subscribe(),b.addEventListener("click",()=>{u.style.transform=""})},h=s=>{let o=0,n=0;if(s.style.transform){const[t,e]=[...s.style.transform.matchAll(/-?\d+\.?\d*/g)];if(t&&e)return{x:+t[0],y:+e[0]}}return{x:o,y:n}},y=(s,o)=>{const n=`translate(${s.x}px, ${s.y}px)`,t=o.style.transform.replace(/translate\(\S+\s\S+\)/,"").trim();o.style.transform=n+" "+t},g=s=>{let o=1;return s.style.transform.indexOf("scale")>=0?+s.style.transform.replace(/translate\(\S+\s\S+\)\s?/,"").match(/\d\.?\d*/)[0]:o},x=(s,o)=>{const n=o.style.transform.replace(/scale\(\d\.?\d*\)/,"").trim(),t=`scale(${s})`;o.style.transform=n+" "+t};function w(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0}function S(s){return Math.hypot(s.touches[0].pageX-s.touches[1].pageX,s.touches[0].pageY-s.touches[1].pageY)}Y();
