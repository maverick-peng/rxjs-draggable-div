import{f as l,s as T,t as f,a as S}from"./vendor.6bf5d223.js";const N=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))e(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const n of o.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&e(n)}).observe(document,{childList:!0,subtree:!0});function a(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerpolicy&&(o.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?o.credentials="include":t.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function e(t){if(t.ep)return;t.ep=!0;const o=a(t);fetch(t.href,o)}};N();const i=document.querySelector("#map"),c=document.querySelector("#target"),k=document.querySelector("#reset"),q=.01,E=.1,M=2,B=0;document.querySelector(".seat-01");const R=()=>{h({x:0,y:0},c),i.style["animation-delay"]=B+"s";const s=l(i,"touchstart",{passive:!0}).pipe(T(e=>{const t={x:e.touches[0].pageX,y:e.touches[0].pageY};i.classList.add("map__cursor--cross");const o=g(c);if(e.touches.length===2){const n=$(e),p=L(c);return l(i,"touchmove",{passive:!0}).pipe(f(u=>{const x=$(u),y=p*(x/n);if(y>M||y<E){console.log("Reached boundary!",y);return}Y(y,c);let m;const X=O(u,0,changedScale),b=O(u,1,changedScale);m={x:(X.x+b.x)/2,y:(X.y+b.y)/2},h(m,c);const _=P(c),w=g(c),A=(m.x-_.x)*(1-changedScale),D=(m.y-_.y)*(1-changedScale);d({x:w.x-A,y:w.y-D},c)}),S(l(i,"touchend",{passive:!0}).pipe(f(()=>i.classList.remove("map__cursor--cross")))))}return l(i,"touchmove",{passive:!0}).pipe(f(n=>{const p=L(c),u=O(n,0,p);console.log(u),d({x:o.x+n.touches[0].pageX-t.x,y:o.y+n.touches[0].pageY-t.y},c)}),S(l(i,"touchend",{passive:!0}).pipe(f(()=>i.classList.remove("map__cursor--cross")))))})),r=l(i,"mousedown").pipe(T(e=>{console.log(e.offsetX);const t={x:e.clientX,y:e.clientY},o=g(c);return i.classList.add("map__cursor--cross"),l(i,"mousemove").pipe(f(n=>{d({x:o.x+n.clientX-t.x,y:o.y+n.clientY-t.y},c)}),S(l(i,"mouseup").pipe(f(()=>i.classList.remove("map__cursor--cross")))))})),a=l(i,"wheel",!0).pipe(f(e=>{let t={x:0,y:0};e.eventPhase===1?t={x:e.target.offsetLeft+e.offsetX,y:e.target.offsetTop+e.offsetY}:t={x:e.offsetX,y:e.offsetY};const o=L(c),n=e.deltaY>0?o+q:o-q;if(n>M||n<E)return;Y(n,c),h(t,c);const p=P(c),u=g(c),x=(t.x-p.x)*(1-n),y=(t.y-p.y)*(1-n);d({x:u.x-x,y:u.y-y},c)}));C()?s.subscribe():r.subscribe(),a.subscribe(),k.addEventListener("click",()=>{d({x:0,y:0},c),Y(1,c),h({x:0,y:0},c)})},g=s=>{let r=0,a=0;if(s.style.transform){const[e,t]=[...s.style.transform.matchAll(/-?\d+\.?\d*/g)];if(e&&t)return{x:+e[0],y:+t[0]}}return{x:r,y:a}},d=(s,r)=>{const a=`translate(${s.x}px, ${s.y}px)`,e=r.style.transform.replace(/translate\(\S+\s\S+\)/,"").trim();r.style.transform=a+" "+e},L=s=>{let r=1;return s.style.transform.indexOf("scale")>=0?+s.style.transform.replace(/translate\(\S+\s\S+\)\s?/,"").match(/\d\.?\d*/)[0]:r},Y=(s,r)=>{const a=r.style.transform.replace(/scale\(\d\.?\d*\)/,"").trim(),e=`scale(${s})`;r.style.transform=a+" "+e},P=s=>{const a=s.style.transformOrigin.match(/[0-9\.]+/g);return{x:a[0]|0,y:a[1]|0}},h=(s,r)=>{r.style.transformOrigin=`${s.x}px ${s.y}px`};function C(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0}function $(s){return Math.hypot(s.touches[0].pageX-s.touches[1].pageX,s.touches[0].pageY-s.touches[1].pageY)}function O(s,r,a){const e=s.target.getBoundingClientRect(),t=s.touches[r].clientX-e.left,o=s.touches[r].clientY-window.pageYOffset-e.top;return{x:t/a,y:o/a}}R();
