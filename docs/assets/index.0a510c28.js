import{f as l,s as w,t as u,a as L}from"./vendor.6bf5d223.js";const N=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))e(t);new MutationObserver(t=>{for(const c of t)if(c.type==="childList")for(const n of c.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&e(n)}).observe(document,{childList:!0,subtree:!0});function a(t){const c={};return t.integrity&&(c.integrity=t.integrity),t.referrerpolicy&&(c.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?c.credentials="include":t.crossorigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function e(t){if(t.ep)return;t.ep=!0;const c=a(t);fetch(t.href,c)}};N();const i=document.querySelector("#map"),o=document.querySelector("#target"),k=document.querySelector("#reset"),_=.01,T=.1,q=2,B=0;document.querySelector(".seat-01");const R=()=>{d({x:0,y:0},o),i.style["animation-delay"]=B+"s";const s=l(i,"touchstart",{passive:!0}).pipe(w(e=>{const t={x:e.touches[0].pageX,y:e.touches[0].pageY};i.classList.add("map__cursor--cross");const c=x(o);if(e.touches.length===2){const n=P(e),m=E(o);return l(i,"touchmove",{passive:!0}).pipe(u(f=>{const S=P(f),p=m*(S/n);if(p>q||p<T){console.log("Reached boundary!",p);return}h(p,o);let g;const O=$(f,0),Y=$(f,1);g={x:(O.x+Y.x)/2,y:(O.y+Y.y)/2},d(g,o);const X=M(o),b=x(o),A=(g.x-X.x)*(1-changedScale),D=(g.y-X.y)*(1-changedScale);y({x:b.x-A,y:b.y-D},o)}),L(l(i,"touchend",{passive:!0}).pipe(u(()=>i.classList.remove("map__cursor--cross")))))}return l(i,"touchmove",{passive:!0}).pipe(u(n=>{y({x:c.x+n.touches[0].pageX-t.x,y:c.y+n.touches[0].pageY-t.y},o)}),L(l(i,"touchend",{passive:!0}).pipe(u(()=>i.classList.remove("map__cursor--cross")))))})),r=l(i,"mousedown").pipe(w(e=>{const t={x:e.clientX,y:e.clientY},c=x(o);return i.classList.add("map__cursor--cross"),l(i,"mousemove").pipe(u(n=>{y({x:c.x+n.clientX-t.x,y:c.y+n.clientY-t.y},o)}),L(l(i,"mouseup").pipe(u(()=>i.classList.remove("map__cursor--cross")))))})),a=l(i,"wheel",!0).pipe(u(e=>{let t={x:0,y:0};e.eventPhase===1?t={x:e.target.offsetLeft+e.offsetX,y:e.target.offsetTop+e.offsetY}:t={x:e.offsetX,y:e.offsetY};const c=E(o),n=e.deltaY>0?c+_:c-_;if(n>q||n<T)return;h(n,o),d(t,o);const m=M(o),f=x(o),S=(t.x-m.x)*(1-n),p=(t.y-m.y)*(1-n);y({x:f.x-S,y:f.y-p},o)}));C()?s.subscribe():r.subscribe(),a.subscribe(),k.addEventListener("click",()=>{y({x:0,y:0},o),h(1,o),d({x:0,y:0},o)}),h(.8,o),d({x:50,y:50},o),y({x:-1*50*.2,y:-1*50*.2},o)},x=s=>{let r=0,a=0;if(s.style.transform){const[e,t]=[...s.style.transform.matchAll(/-?\d+\.?\d*/g)];if(e&&t)return{x:+e[0],y:+t[0]}}return{x:r,y:a}},y=(s,r)=>{const a=`translate(${s.x}px, ${s.y}px)`,e=r.style.transform.replace(/translate\(\S+\s\S+\)/,"").trim();r.style.transform=a+" "+e},E=s=>{let r=1;return s.style.transform.indexOf("scale")>=0?+s.style.transform.replace(/translate\(\S+\s\S+\)\s?/,"").match(/\d\.?\d*/)[0]:r},h=(s,r)=>{const a=r.style.transform.replace(/scale\(\d\.?\d*\)/,"").trim(),e=`scale(${s})`;r.style.transform=a+" "+e},M=s=>{const a=s.style.transformOrigin.match(/[0-9\.]+/g);return{x:a[0]|0,y:a[1]|0}},d=(s,r)=>{r.style.transformOrigin=`${s.x}px ${s.y}px`};function C(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0}function P(s){return Math.hypot(s.touches[0].pageX-s.touches[1].pageX,s.touches[0].pageY-s.touches[1].pageY)}function $(s,r){const a=s.target.getBoundingClientRect(),e=s.touches[r].clientX-window.pageXOffset-a.left,t=s.touches[r].clientY-window.pageYOffset-a.top;return{x:e,y:t}}R();
