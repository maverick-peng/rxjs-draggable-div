import{f as u,s as _,t as f,a as S}from"./vendor.6bf5d223.js";const N=function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))e(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const n of o.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&e(n)}).observe(document,{childList:!0,subtree:!0});function a(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerpolicy&&(o.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?o.credentials="include":t.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function e(t){if(t.ep)return;t.ep=!0;const o=a(t);fetch(t.href,o)}};N();const i=document.querySelector("#map"),r=document.querySelector("#target"),k=document.querySelector("#reset"),T=.01,w=.1,q=2,B=0;document.querySelector(".seat-01");const R=()=>{x({x:0,y:0},r),i.style["animation-delay"]=B+"s";const s=u(i,"touchstart",{passive:!0}).pipe(_(e=>{const t={x:e.touches[0].pageX,y:e.touches[0].pageY};i.classList.add("map__cursor--cross");const o=g(r);if(e.touches.length===2){const n=P(e),d=E(r);return u(i,"touchmove",{passive:!0}).pipe(f(p=>{const h=P(p),l=d*(h/n);if(l>q||l<w){console.log("Reached boundary!",l);return}L(l,r);let m;const X=$(p,0,l,r),Y=$(p,1,l,r);m={x:(X.x+Y.x)/2,y:(X.y+Y.y)/2},x(m,r);const b=M(r),O=g(r),A=(m.x-b.x)*(1-l),D=(m.y-b.y)*(1-l);y({x:O.x-A,y:O.y-D},r)}),S(u(i,"touchend",{passive:!0}).pipe(f(()=>i.classList.remove("map__cursor--cross")))))}return u(i,"touchmove",{passive:!0}).pipe(f(n=>{y({x:o.x+n.touches[0].pageX-t.x,y:o.y+n.touches[0].pageY-t.y},r)}),S(u(i,"touchend",{passive:!0}).pipe(f(()=>i.classList.remove("map__cursor--cross")))))})),c=u(i,"mousedown").pipe(_(e=>{console.log(e.offsetX);const t={x:e.clientX,y:e.clientY},o=g(r);return i.classList.add("map__cursor--cross"),u(i,"mousemove").pipe(f(n=>{y({x:o.x+n.clientX-t.x,y:o.y+n.clientY-t.y},r)}),S(u(i,"mouseup").pipe(f(()=>i.classList.remove("map__cursor--cross")))))})),a=u(i,"wheel",!0).pipe(f(e=>{let t={x:0,y:0};e.eventPhase===1?t={x:e.target.offsetLeft+e.offsetX,y:e.target.offsetTop+e.offsetY}:t={x:e.offsetX,y:e.offsetY};const o=E(r),n=e.deltaY>0?o+T:o-T;if(n>q||n<w)return;L(n,r),x(t,r);const d=M(r),p=g(r),h=(t.x-d.x)*(1-n),l=(t.y-d.y)*(1-n);y({x:p.x-h,y:p.y-l},r)}));C()?s.subscribe():c.subscribe(),a.subscribe(),k.addEventListener("click",()=>{y({x:0,y:0},r),L(1,r),x({x:0,y:0},r)})},g=s=>{let c=0,a=0;if(s.style.transform){const[e,t]=[...s.style.transform.matchAll(/-?\d+\.?\d*/g)];if(e&&t)return{x:+e[0],y:+t[0]}}return{x:c,y:a}},y=(s,c)=>{const a=`translate(${s.x}px, ${s.y}px)`,e=c.style.transform.replace(/translate\(\S+\s\S+\)/,"").trim();c.style.transform=a+" "+e},E=s=>{let c=1;return s.style.transform.indexOf("scale")>=0?+s.style.transform.replace(/translate\(\S+\s\S+\)\s?/,"").match(/\d\.?\d*/)[0]:c},L=(s,c)=>{const a=c.style.transform.replace(/scale\(\d\.?\d*\)/,"").trim(),e=`scale(${s})`;c.style.transform=a+" "+e},M=s=>{const a=s.style.transformOrigin.match(/[0-9\.]+/g);return{x:a[0]|0,y:a[1]|0}},x=(s,c)=>{c.style.transformOrigin=`${s.x}px ${s.y}px`};function C(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0}function P(s){return Math.hypot(s.touches[0].pageX-s.touches[1].pageX,s.touches[0].pageY-s.touches[1].pageY)}function $(s,c,a,e){const t=e.getBoundingClientRect(),o=s.touches[c].clientX-t.left,n=s.touches[c].clientY-t.top;return{x:o/a,y:n/a}}R();
